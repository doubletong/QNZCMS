var mejs=mejs||{};mejs.version="2.16.3";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube","application/x-mpegURL"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]};mejs.Utility={encodeUrl:function(url){return encodeURIComponent(url)},escapeHTML:function(s){return s.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(url){var el=document.createElement("div");el.innerHTML='<a href="'+this.escapeHTML(url)+'">x</a>';return el.firstChild.href},getScriptPath:function(scriptNames){var i=0,j,codePath="",testname="",slashPos,filenamePos,scriptUrl,scriptPath,scriptFilename,scripts=document.getElementsByTagName("script"),il=scripts.length,jl=scriptNames.length;for(;i<il;i++){scriptUrl=scripts[i].src;slashPos=scriptUrl.lastIndexOf("/");if(slashPos>-1){scriptFilename=scriptUrl.substring(slashPos+1);scriptPath=scriptUrl.substring(0,slashPos+1)}else{scriptFilename=scriptUrl;scriptPath=""}for(j=0;j<jl;j++){testname=scriptNames[j];filenamePos=scriptFilename.indexOf(testname);if(filenamePos>-1){codePath=scriptPath;break}}if(codePath!==""){break}}return codePath},secondsToTimeCode:function(time,forceHours,showFrameCount,fps){if(typeof showFrameCount=="undefined"){showFrameCount=false}else if(typeof fps=="undefined"){fps=25}var hours=Math.floor(time/3600)%24,minutes=Math.floor(time/60)%60,seconds=Math.floor(time%60),frames=Math.floor((time%1*fps).toFixed(3)),result=(forceHours||hours>0?(hours<10?"0"+hours:hours)+":":"")+(minutes<10?"0"+minutes:minutes)+":"+(seconds<10?"0"+seconds:seconds)+(showFrameCount?":"+(frames<10?"0"+frames:frames):"");return result},timeCodeToSeconds:function(hh_mm_ss_ff,forceHours,showFrameCount,fps){if(typeof showFrameCount=="undefined"){showFrameCount=false}else if(typeof fps=="undefined"){fps=25}var tc_array=hh_mm_ss_ff.split(":"),tc_hh=parseInt(tc_array[0],10),tc_mm=parseInt(tc_array[1],10),tc_ss=parseInt(tc_array[2],10),tc_ff=0,tc_in_seconds=0;if(showFrameCount){tc_ff=parseInt(tc_array[3])/fps}tc_in_seconds=tc_hh*3600+tc_mm*60+tc_ss+tc_ff;return tc_in_seconds},convertSMPTEtoSeconds:function(SMPTE){if(typeof SMPTE!="string")return false;SMPTE=SMPTE.replace(",",".");var secs=0,decimalLen=SMPTE.indexOf(".")!=-1?SMPTE.split(".")[1].length:0,multiplier=1;SMPTE=SMPTE.split(":").reverse();for(var i=0;i<SMPTE.length;i++){multiplier=1;if(i>0){multiplier=Math.pow(60,i)}secs+=Number(SMPTE[i])*multiplier}return Number(secs.toFixed(decimalLen))},removeSwf:function(id){var obj=document.getElementById(id);if(obj&&/object|embed/i.test(obj.nodeName)){if(mejs.MediaFeatures.isIE){obj.style.display="none";(function(){if(obj.readyState==4){mejs.Utility.removeObjectInIE(id)}else{setTimeout(arguments.callee,10)}})()}else{obj.parentNode.removeChild(obj)}}},removeObjectInIE:function(id){var obj=document.getElementById(id);if(obj){for(var i in obj){if(typeof obj[i]=="function"){obj[i]=null}}obj.parentNode.removeChild(obj)}}};mejs.PluginDetector={hasPluginVersion:function(plugin,v){var pv=this.plugins[plugin];v[1]=v[1]||0;v[2]=v[2]||0;return pv[0]>v[0]||pv[0]==v[0]&&pv[1]>v[1]||pv[0]==v[0]&&pv[1]==v[1]&&pv[2]>=v[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(p,pluginName,mimeType,activeX,axDetect){this.plugins[p]=this.detectPlugin(pluginName,mimeType,activeX,axDetect)},detectPlugin:function(pluginName,mimeType,activeX,axDetect){var version=[0,0,0],description,i,ax;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[pluginName]=="object"){description=this.nav.plugins[pluginName].description;if(description&&!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[mimeType]&&!this.nav.mimeTypes[mimeType].enabledPlugin)){version=description.replace(pluginName,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(i=0;i<version.length;i++){version[i]=parseInt(version[i].match(/\d+/),10)}}}else if(typeof window.ActiveXObject!="undefined"){try{ax=new ActiveXObject(activeX);if(ax){version=axDetect(ax)}}catch(e){}}return version}};mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(ax){var version=[],d=ax.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");version=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)]}return version});mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(ax){var v=[0,0,0,0],loopMatch=function(ax,v,i,n){while(ax.isVersionSupported(v[0]+"."+v[1]+"."+v[2]+"."+v[3])){v[i]+=n}v[i]-=n};loopMatch(ax,v,0,1);loopMatch(ax,v,1,1);loopMatch(ax,v,2,1e4);loopMatch(ax,v,2,1e3);loopMatch(ax,v,2,100);loopMatch(ax,v,2,10);loopMatch(ax,v,2,1);loopMatch(ax,v,3,1);return v});mejs.MediaFeatures={init:function(){var t=this,d=document,nav=mejs.PluginDetector.nav,ua=mejs.PluginDetector.ua.toLowerCase(),i,v,html5Elements=["source","track","audio","video"];t.isiPad=ua.match(/ipad/i)!==null;t.isiPhone=ua.match(/iphone/i)!==null;t.isiOS=t.isiPhone||t.isiPad;t.isAndroid=ua.match(/android/i)!==null;t.isBustedAndroid=ua.match(/android 2\.[12]/)!==null;t.isBustedNativeHTTPS=location.protocol==="https:"&&(ua.match(/android [12]\./)!==null||ua.match(/macintosh.* version.* safari/)!==null);t.isIE=nav.appName.toLowerCase().indexOf("microsoft")!=-1||nav.appName.toLowerCase().match(/trident/gi)!==null;t.isChrome=ua.match(/chrome/gi)!==null;t.isChromium=ua.match(/chromium/gi)!==null;t.isFirefox=ua.match(/firefox/gi)!==null;t.isWebkit=ua.match(/webkit/gi)!==null;t.isGecko=ua.match(/gecko/gi)!==null&&!t.isWebkit&&!t.isIE;t.isOpera=ua.match(/opera/gi)!==null;t.hasTouch="ontouchstart"in window;t.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(i=0;i<html5Elements.length;i++){v=document.createElement(html5Elements[i])}t.supportsMediaTag=typeof v.canPlayType!=="undefined"||t.isBustedAndroid;try{v.canPlayType("video/mp4")}catch(e){t.supportsMediaTag=false}t.hasSemiNativeFullScreen=typeof v.webkitEnterFullscreen!=="undefined";t.hasNativeFullscreen=typeof v.requestFullscreen!=="undefined";t.hasWebkitNativeFullScreen=typeof v.webkitRequestFullScreen!=="undefined";t.hasMozNativeFullScreen=typeof v.mozRequestFullScreen!=="undefined";t.hasMsNativeFullScreen=typeof v.msRequestFullscreen!=="undefined";t.hasTrueNativeFullScreen=t.hasWebkitNativeFullScreen||t.hasMozNativeFullScreen||t.hasMsNativeFullScreen;t.nativeFullScreenEnabled=t.hasTrueNativeFullScreen;if(t.hasMozNativeFullScreen){t.nativeFullScreenEnabled=document.mozFullScreenEnabled}else if(t.hasMsNativeFullScreen){t.nativeFullScreenEnabled=document.msFullscreenEnabled}if(t.isChrome){t.hasSemiNativeFullScreen=false}if(t.hasTrueNativeFullScreen){t.fullScreenEventName="";if(t.hasWebkitNativeFullScreen){t.fullScreenEventName="webkitfullscreenchange"}else if(t.hasMozNativeFullScreen){t.fullScreenEventName="mozfullscreenchange"}else if(t.hasMsNativeFullScreen){t.fullScreenEventName="MSFullscreenChange"}t.isFullScreen=function(){if(t.hasMozNativeFullScreen){return d.mozFullScreen}else if(t.hasWebkitNativeFullScreen){return d.webkitIsFullScreen}else if(t.hasMsNativeFullScreen){return d.msFullscreenElement!==null}};t.requestFullScreen=function(el){if(t.hasWebkitNativeFullScreen){el.webkitRequestFullScreen()}else if(t.hasMozNativeFullScreen){el.mozRequestFullScreen()}else if(t.hasMsNativeFullScreen){el.msRequestFullscreen()}};t.cancelFullScreen=function(){if(t.hasWebkitNativeFullScreen){document.webkitCancelFullScreen()}else if(t.hasMozNativeFullScreen){document.mozCancelFullScreen()}else if(t.hasMsNativeFullScreen){document.msExitFullscreen()}}}if(t.hasSemiNativeFullScreen&&ua.match(/mac os x 10_5/i)){t.hasNativeFullScreen=false;t.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(time){this.currentTime=time},setMuted:function(muted){this.muted=muted},setVolume:function(volume){this.volume=volume},stop:function(){this.pause()},setSrc:function(url){var existingSources=this.getElementsByTagName("source");while(existingSources.length>0){this.removeChild(existingSources[0])}if(typeof url=="string"){this.src=url}else{var i,media;for(i=0;i<url.length;i++){media=url[i];if(this.canPlayType(media.type)){this.src=media.src;break}}}},setVideoSize:function(width,height){this.width=width;this.height=height}};mejs.PluginMediaElement=function(pluginid,pluginType,mediaUrl){this.id=pluginid;this.pluginType=pluginType;this.src=mediaUrl;this.events={};this.attributes={}};mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){this.pluginApi.playVideo()}else{this.pluginApi.playMedia()}this.paused=false}},load:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){}else{this.pluginApi.loadMedia()}this.paused=false}},pause:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){this.pluginApi.pauseVideo()}else{this.pluginApi.pauseMedia()}this.paused=true}},stop:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){this.pluginApi.stopVideo()}else{this.pluginApi.stopMedia()}this.paused=true}},canPlayType:function(type){var i,j,pluginInfo,pluginVersions=mejs.plugins[this.pluginType];for(i=0;i<pluginVersions.length;i++){pluginInfo=pluginVersions[i];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,pluginInfo.version)){for(j=0;j<pluginInfo.types.length;j++){if(type==pluginInfo.types[j]){return"probably"}}}}return""},positionFullscreenButton:function(x,y,visibleAndAbove){if(this.pluginApi!=null&&this.pluginApi.positionFullscreenButton){this.pluginApi.positionFullscreenButton(Math.floor(x),Math.floor(y),visibleAndAbove)}},hideFullscreenButton:function(){if(this.pluginApi!=null&&this.pluginApi.hideFullscreenButton){this.pluginApi.hideFullscreenButton()}},setSrc:function(url){if(typeof url=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(url));this.src=mejs.Utility.absolutizeUrl(url)}else{var i,media;for(i=0;i<url.length;i++){media=url[i];if(this.canPlayType(media.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(media.src));this.src=mejs.Utility.absolutizeUrl(url);break}}}},setCurrentTime:function(time){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){this.pluginApi.seekTo(time)}else{this.pluginApi.setCurrentTime(time)}this.currentTime=time}},setVolume:function(volume){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.setVolume(volume*100)}else{this.pluginApi.setVolume(volume)}this.volume=volume}},setMuted:function(muted){if(this.pluginApi!=null){if(this.pluginType=="youtube"){if(muted){this.pluginApi.mute()}else{this.pluginApi.unMute()}this.muted=muted;this.dispatchEvent("volumechange")}else{this.pluginApi.setMuted(muted)}this.muted=muted}},setVideoSize:function(width,height){if(this.pluginElement&&this.pluginElement.style){this.pluginElement.style.width=width+"px";this.pluginElement.style.height=height+"px"}if(this.pluginApi!=null&&this.pluginApi.setVideoSize){this.pluginApi.setVideoSize(width,height)}},setFullscreen:function(fullscreen){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.pluginApi.setFullscreen(fullscreen)}},enterFullScreen:function(){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.setFullscreen(true)}},exitFullScreen:function(){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.setFullscreen(false)}},addEventListener:function(eventName,callback,bubble){this.events[eventName]=this.events[eventName]||[];this.events[eventName].push(callback)},removeEventListener:function(eventName,callback){if(!eventName){this.events={};return true}var callbacks=this.events[eventName];if(!callbacks)return true;if(!callback){this.events[eventName]=[];return true}for(var i=0;i<callbacks.length;i++){if(callbacks[i]===callback){this.events[eventName].splice(i,1);return true}}return false},dispatchEvent:function(eventName){var i,args,callbacks=this.events[eventName];if(callbacks){args=Array.prototype.slice.call(arguments,1);for(i=0;i<callbacks.length;i++){callbacks[i].apply(this,args)}}},hasAttribute:function(name){return name in this.attributes},removeAttribute:function(name){delete this.attributes[name]},getAttribute:function(name){if(this.hasAttribute(name)){return this.attributes[name]}return""},setAttribute:function(name,value){this.attributes[name]=value},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id);mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}};mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(id,pluginMediaElement,htmlMediaElement){this.pluginMediaElements[id]=pluginMediaElement;this.htmlMediaElements[id]=htmlMediaElement},unregisterPluginElement:function(id){delete this.pluginMediaElements[id];delete this.htmlMediaElements[id]},initPlugin:function(id){var pluginMediaElement=this.pluginMediaElements[id],htmlMediaElement=this.htmlMediaElements[id];if(pluginMediaElement){switch(pluginMediaElement.pluginType){case"flash":pluginMediaElement.pluginElement=pluginMediaElement.pluginApi=document.getElementById(id);break;case"silverlight":pluginMediaElement.pluginElement=document.getElementById(pluginMediaElement.id);pluginMediaElement.pluginApi=pluginMediaElement.pluginElement.Content.MediaElementJS;break}if(pluginMediaElement.pluginApi!=null&&pluginMediaElement.success){pluginMediaElement.success(pluginMediaElement,htmlMediaElement)}}},fireEvent:function(id,eventName,values){var e,i,bufferedTime,pluginMediaElement=this.pluginMediaElements[id];if(!pluginMediaElement){return}e={type:eventName,target:pluginMediaElement};for(i in values){pluginMediaElement[i]=values[i];e[i]=values[i]}bufferedTime=values.bufferedTime||0;e.target.buffered=e.buffered={start:function(index){return 0},end:function(index){return bufferedTime},length:1};pluginMediaElement.dispatchEvent(e.type,e)}};mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,httpsBasicAuthSite:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:false,enablePseudoStreaming:false,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}};mejs.MediaElement=function(el,o){return mejs.HtmlMediaElementShim.create(el,o)};mejs.HtmlMediaElementShim={create:function(el,o){var options=mejs.MediaElementDefaults,htmlMediaElement=typeof el=="string"?document.getElementById(el):el,tagName=htmlMediaElement.tagName.toLowerCase(),isMediaTag=tagName==="audio"||tagName==="video",src=isMediaTag?htmlMediaElement.getAttribute("src"):htmlMediaElement.getAttribute("href"),poster=htmlMediaElement.getAttribute("poster"),autoplay=htmlMediaElement.getAttribute("autoplay"),preload=htmlMediaElement.getAttribute("preload"),controls=htmlMediaElement.getAttribute("controls"),playback,prop;for(prop in o){options[prop]=o[prop]}src=typeof src=="undefined"||src===null||src==""?null:src;poster=typeof poster=="undefined"||poster===null?"":poster;preload=typeof preload=="undefined"||preload===null||preload==="false"?"none":preload;autoplay=!(typeof autoplay=="undefined"||autoplay===null||autoplay==="false");controls=!(typeof controls=="undefined"||controls===null||controls==="false");playback=this.determinePlayback(htmlMediaElement,options,mejs.MediaFeatures.supportsMediaTag,isMediaTag,src);playback.url=playback.url!==null?mejs.Utility.absolutizeUrl(playback.url):"";if(playback.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){htmlMediaElement.src=playback.url;htmlMediaElement.addEventListener("click",function(){htmlMediaElement.play()},false)}return this.updateNative(playback,options,autoplay,preload)}else if(playback.method!==""){return this.createPlugin(playback,options,poster,autoplay,preload,controls)}else{this.createErrorMessage(playback,options,poster);return this}},determinePlayback:function(htmlMediaElement,options,supportsMediaTag,isMediaTag,src){var mediaFiles=[],i,j,k,l,n,type,result={method:"",url:"",htmlMediaElement:htmlMediaElement,isVideo:htmlMediaElement.tagName.toLowerCase()!="audio"},pluginName,pluginVersions,pluginInfo,dummy,media;if(typeof options.type!="undefined"&&options.type!==""){if(typeof options.type=="string"){mediaFiles.push({type:options.type,url:src})}else{for(i=0;i<options.type.length;i++){mediaFiles.push({type:options.type[i],url:src})}}}else if(src!==null){type=this.formatType(src,htmlMediaElement.getAttribute("type"));mediaFiles.push({type:type,url:src})}else{for(i=0;i<htmlMediaElement.childNodes.length;i++){n=htmlMediaElement.childNodes[i];if(n.nodeType==1&&n.tagName.toLowerCase()=="source"){src=n.getAttribute("src");type=this.formatType(src,n.getAttribute("type"));media=n.getAttribute("media");if(!media||!window.matchMedia||window.matchMedia&&window.matchMedia(media).matches){mediaFiles.push({type:type,url:src})}}}}if(!isMediaTag&&mediaFiles.length>0&&mediaFiles[0].url!==null&&this.getTypeFromFile(mediaFiles[0].url).indexOf("audio")>-1){result.isVideo=false}if(mejs.MediaFeatures.isBustedAndroid){htmlMediaElement.canPlayType=function(type){return type.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""}}if(mejs.MediaFeatures.isChromium){htmlMediaElement.canPlayType=function(type){return type.match(/video\/(webm|ogv|ogg)/gi)!==null?"maybe":""}}if(supportsMediaTag&&(options.mode==="auto"||options.mode==="auto_plugin"||options.mode==="native")&&!(mejs.MediaFeatures.isBustedNativeHTTPS&&options.httpsBasicAuthSite===true)){if(!isMediaTag){dummy=document.createElement(result.isVideo?"video":"audio");htmlMediaElement.parentNode.insertBefore(dummy,htmlMediaElement);htmlMediaElement.style.display="none";result.htmlMediaElement=htmlMediaElement=dummy}for(i=0;i<mediaFiles.length;i++){if(mediaFiles[i].type=="video/m3u8"||htmlMediaElement.canPlayType(mediaFiles[i].type).replace(/no/,"")!==""||htmlMediaElement.canPlayType(mediaFiles[i].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""||htmlMediaElement.canPlayType(mediaFiles[i].type.replace(/m4a/,"mp4")).replace(/no/,"")!==""){result.method="native";result.url=mediaFiles[i].url;break}}if(result.method==="native"){if(result.url!==null){htmlMediaElement.src=result.url}if(options.mode!=="auto_plugin"){return result}}}if(options.mode==="auto"||options.mode==="auto_plugin"||options.mode==="shim"){for(i=0;i<mediaFiles.length;i++){type=mediaFiles[i].type;for(j=0;j<options.plugins.length;j++){pluginName=options.plugins[j];pluginVersions=mejs.plugins[pluginName];for(k=0;k<pluginVersions.length;k++){pluginInfo=pluginVersions[k];if(pluginInfo.version==null||mejs.PluginDetector.hasPluginVersion(pluginName,pluginInfo.version)){for(l=0;l<pluginInfo.types.length;l++){if(type==pluginInfo.types[l]){result.method=pluginName;result.url=mediaFiles[i].url;return result}}}}}}}if(options.mode==="auto_plugin"&&result.method==="native"){return result}if(result.method===""&&mediaFiles.length>0){result.url=mediaFiles[0].url}return result},formatType:function(url,type){var ext;if(url&&!type){return this.getTypeFromFile(url)}else{if(type&&~type.indexOf(";")){return type.substr(0,type.indexOf(";"))}else{return type}}},getTypeFromFile:function(url){url=url.split("?")[0];var ext=url.substring(url.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(ext)?"video":"audio")+"/"+this.getTypeFromExtension(ext)},getTypeFromExtension:function(ext){switch(ext){case"mp4":case"m4v":case"m4a":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return ext}},createErrorMessage:function(playback,options,poster){var htmlMediaElement=playback.htmlMediaElement,errorContainer=document.createElement("div");errorContainer.className="me-cannotplay";try{errorContainer.style.width=htmlMediaElement.width+"px";errorContainer.style.height=htmlMediaElement.height+"px"}catch(e){}if(options.customError){errorContainer.innerHTML=options.customError}else{errorContainer.innerHTML=poster!==""?'<a href="'+playback.url+'"><img src="'+poster+'" width="100%" height="100%" /></a>':'<a href="'+playback.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>"}htmlMediaElement.parentNode.insertBefore(errorContainer,htmlMediaElement);htmlMediaElement.style.display="none";options.error(htmlMediaElement)},createPlugin:function(playback,options,poster,autoplay,preload,controls){var htmlMediaElement=playback.htmlMediaElement,width=1,height=1,pluginid="me_"+playback.method+"_"+mejs.meIndex++,pluginMediaElement=new mejs.PluginMediaElement(pluginid,playback.method,playback.url),container=document.createElement("div"),specialIEContainer,node,initVars;pluginMediaElement.tagName=htmlMediaElement.tagName;for(var i=0;i<htmlMediaElement.attributes.length;i++){var attribute=htmlMediaElement.attributes[i];if(attribute.specified==true){pluginMediaElement.setAttribute(attribute.name,attribute.value)}}node=htmlMediaElement.parentNode;while(node!==null&&node.tagName.toLowerCase()!=="body"&&node.parentNode!=null){if(node.parentNode.tagName.toLowerCase()==="p"){node.parentNode.parentNode.insertBefore(node,node.parentNode);break}node=node.parentNode}if(playback.isVideo){width=options.pluginWidth>0?options.pluginWidth:options.videoWidth>0?options.videoWidth:htmlMediaElement.getAttribute("width")!==null?htmlMediaElement.getAttribute("width"):options.defaultVideoWidth;height=options.pluginHeight>0?options.pluginHeight:options.videoHeight>0?options.videoHeight:htmlMediaElement.getAttribute("height")!==null?htmlMediaElement.getAttribute("height"):options.defaultVideoHeight;width=mejs.Utility.encodeUrl(width);height=mejs.Utility.encodeUrl(height)}else{if(options.enablePluginDebug){width=320;height=240}}pluginMediaElement.success=options.success;mejs.MediaPluginBridge.registerPluginElement(pluginid,pluginMediaElement,htmlMediaElement);container.className="me-plugin";container.id=pluginid+"_container";if(playback.isVideo){htmlMediaElement.parentNode.insertBefore(container,htmlMediaElement)}else{document.body.insertBefore(container,document.body.childNodes[0])}initVars=["id="+pluginid,"jsinitfunction="+"mejs.MediaPluginBridge.initPlugin","jscallbackfunction="+"mejs.MediaPluginBridge.fireEvent","isvideo="+(playback.isVideo?"true":"false"),"autoplay="+(autoplay?"true":"false"),"preload="+preload,"width="+width,"startvolume="+options.startVolume,"timerrate="+options.timerRate,"flashstreamer="+options.flashStreamer,"height="+height,"pseudostreamstart="+options.pseudoStreamingStartQueryParam];if(playback.url!==null){if(playback.method=="flash"){initVars.push("file="+mejs.Utility.encodeUrl(playback.url))}else{initVars.push("file="+playback.url)}}if(options.enablePluginDebug){initVars.push("debug=true")}if(options.enablePluginSmoothing){initVars.push("smoothing=true")}if(options.enablePseudoStreaming){initVars.push("pseudostreaming=true")}if(controls){initVars.push("controls=true")}if(options.pluginVars){initVars=initVars.concat(options.pluginVars)}switch(playback.method){case"silverlight":container.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+pluginid+'" name="'+pluginid+'" width="'+width+'" height="'+height+'" class="mejs-shim">'+'<param name="initParams" value="'+initVars.join(",")+'" />'+'<param name="windowless" value="true" />'+'<param name="background" value="black" />'+'<param name="minRuntimeVersion" value="3.0.0.0" />'+'<param name="autoUpgrade" value="true" />'+'<param name="source" value="'+options.pluginPath+options.silverlightName+'" />'+"</object>";break;case"flash":if(mejs.MediaFeatures.isIE){specialIEContainer=document.createElement("div");container.appendChild(specialIEContainer);specialIEContainer.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" '+'id="'+pluginid+'" width="'+width+'" height="'+height+'" class="mejs-shim">'+'<param name="movie" value="'+options.pluginPath+options.flashName+"?x="+new Date+'" />'+'<param name="flashvars" value="'+initVars.join("&amp;")+'" />'+'<param name="quality" value="high" />'+'<param name="bgcolor" value="#000000" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+'<param name="scale" value="default" />'+"</object>"}else{container.innerHTML='<embed id="'+pluginid+'" name="'+pluginid+'" '+'play="true" '+'loop="false" '+'quality="high" '+'bgcolor="#000000" '+'wmode="transparent" '+'allowScriptAccess="always" '+'allowFullScreen="true" '+'type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" '+'src="'+options.pluginPath+options.flashName+'" '+'flashvars="'+initVars.join("&")+'" '+'width="'+width+'" '+'height="'+height+'" '+'scale="default"'+'class="mejs-shim"></embed>'}break;case"youtube":var videoId;if(playback.url.lastIndexOf("youtu.be")!=-1){videoId=playback.url.substr(playback.url.lastIndexOf("/")+1);if(videoId.indexOf("?")!=-1){videoId=videoId.substr(0,videoId.indexOf("?"))}}else{videoId=playback.url.substr(playback.url.lastIndexOf("=")+1)}youtubeSettings={container:container,containerId:container.id,pluginMediaElement:pluginMediaElement,pluginId:pluginid,videoId:videoId,height:height,width:width};if(mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])){mejs.YouTubeApi.createFlash(youtubeSettings)}else{mejs.YouTubeApi.enqueueIframe(youtubeSettings)}break;case"vimeo":var player_id=pluginid+"_player";pluginMediaElement.vimeoid=playback.url.substr(playback.url.lastIndexOf("/")+1);container.innerHTML='<iframe src="//player.vimeo.com/video/'+pluginMediaElement.vimeoid+"?api=1&portrait=0&byline=0&title=0&player_id="+player_id+'" width="'+width+'" height="'+height+'" frameborder="0" class="mejs-shim" id="'+player_id+'" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';if(typeof $f=="function"){var player=$f(container.childNodes[0]);player.addEvent("ready",function(){$.extend(player,{playVideo:function(){player.api("play")},stopVideo:function(){player.api("unload")},pauseVideo:function(){player.api("pause")},seekTo:function(seconds){player.api("seekTo",seconds)},setVolume:function(volume){player.api("setVolume",volume)},setMuted:function(muted){if(muted){player.lastVolume=player.api("getVolume");player.api("setVolume",0)}else{player.api("setVolume",player.lastVolume);delete player.lastVolume}}});function createEvent(player,pluginMediaElement,eventName,e){var obj={type:eventName,target:pluginMediaElement};if(eventName=="timeupdate"){pluginMediaElement.currentTime=obj.currentTime=e.seconds;pluginMediaElement.duration=obj.duration=e.duration}pluginMediaElement.dispatchEvent(obj.type,obj)}player.addEvent("play",function(){createEvent(player,pluginMediaElement,"play");createEvent(player,pluginMediaElement,"playing")});player.addEvent("pause",function(){createEvent(player,pluginMediaElement,"pause")});player.addEvent("finish",function(){createEvent(player,pluginMediaElement,"ended")});player.addEvent("playProgress",function(e){createEvent(player,pluginMediaElement,"timeupdate",e)});pluginMediaElement.pluginElement=container;pluginMediaElement.pluginApi=player;mejs.MediaPluginBridge.initPlugin(pluginid)})}else{console.warn("You need to include froogaloop for vimeo to work")}break}htmlMediaElement.style.display="none";htmlMediaElement.removeAttribute("autoplay");return pluginMediaElement},updateNative:function(playback,options,autoplay,preload){var htmlMediaElement=playback.htmlMediaElement,m;for(m in mejs.HtmlMediaElement){htmlMediaElement[m]=mejs.HtmlMediaElement[m]}options.success(htmlMediaElement,htmlMediaElement);return htmlMediaElement}};mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var tag=document.createElement("script");tag.src="//www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(yt){if(this.isLoaded){this.createIframe(yt)}else{this.loadIframeApi();this.iframeQueue.push(yt)}},createIframe:function(settings){var pluginMediaElement=settings.pluginMediaElement,player=new YT.Player(settings.containerId,{height:settings.height,width:settings.width,videoId:settings.videoId,playerVars:{controls:0},events:{onReady:function(){settings.pluginMediaElement.pluginApi=player;mejs.MediaPluginBridge.initPlugin(settings.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(player,pluginMediaElement,"timeupdate")},250)},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,player,pluginMediaElement)}}})},createEvent:function(player,pluginMediaElement,eventName){var obj={type:eventName,target:pluginMediaElement};if(player&&player.getDuration){pluginMediaElement.currentTime=obj.currentTime=player.getCurrentTime();pluginMediaElement.duration=obj.duration=player.getDuration();obj.paused=pluginMediaElement.paused;obj.ended=pluginMediaElement.ended;obj.muted=player.isMuted();obj.volume=player.getVolume()/100;obj.bytesTotal=player.getVideoBytesTotal();obj.bufferedBytes=player.getVideoBytesLoaded();var bufferedTime=obj.bufferedBytes/obj.bytesTotal*obj.duration;obj.target.buffered=obj.buffered={start:function(index){return 0},end:function(index){return bufferedTime},length:1}}pluginMediaElement.dispatchEvent(obj.type,obj)},iFrameReady:function(){this.isLoaded=true;this.isIframeLoaded=true;while(this.iframeQueue.length>0){var settings=this.iframeQueue.pop();this.createIframe(settings)}},flashPlayers:{},createFlash:function(settings){this.flashPlayers[settings.pluginId]=settings;var specialIEContainer,youtubeUrl="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+settings.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){specialIEContainer=document.createElement("div");settings.container.appendChild(specialIEContainer);specialIEContainer.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" '+'id="'+settings.pluginId+'" width="'+settings.width+'" height="'+settings.height+'" class="mejs-shim">'+'<param name="movie" value="'+youtubeUrl+'" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+"</object>"}else{settings.container.innerHTML='<object type="application/x-shockwave-flash" id="'+settings.pluginId+'" data="'+youtubeUrl+'" '+'width="'+settings.width+'" height="'+settings.height+'" style="visibility: visible; " class="mejs-shim">'+'<param name="allowScriptAccess" value="always">'+'<param name="wmode" value="transparent">'+"</object>"}},flashReady:function(id){var settings=this.flashPlayers[id],player=document.getElementById(id),pluginMediaElement=settings.pluginMediaElement;
pluginMediaElement.pluginApi=pluginMediaElement.pluginElement=player;mejs.MediaPluginBridge.initPlugin(id);player.cueVideoById(settings.videoId);var callbackName=settings.containerId+"_callback";window[callbackName]=function(e){mejs.YouTubeApi.handleStateChange(e,player,pluginMediaElement)};player.addEventListener("onStateChange",callbackName);setInterval(function(){mejs.YouTubeApi.createEvent(player,pluginMediaElement,"timeupdate")},250);mejs.YouTubeApi.createEvent(player,pluginMediaElement,"canplay")},handleStateChange:function(youTubeState,player,pluginMediaElement){switch(youTubeState){case-1:pluginMediaElement.paused=true;pluginMediaElement.ended=true;mejs.YouTubeApi.createEvent(player,pluginMediaElement,"loadedmetadata");break;case 0:pluginMediaElement.paused=false;pluginMediaElement.ended=true;mejs.YouTubeApi.createEvent(player,pluginMediaElement,"ended");break;case 1:pluginMediaElement.paused=false;pluginMediaElement.ended=false;mejs.YouTubeApi.createEvent(player,pluginMediaElement,"play");mejs.YouTubeApi.createEvent(player,pluginMediaElement,"playing");break;case 2:pluginMediaElement.paused=true;pluginMediaElement.ended=false;mejs.YouTubeApi.createEvent(player,pluginMediaElement,"pause");break;case 3:mejs.YouTubeApi.createEvent(player,pluginMediaElement,"progress");break;case 5:break}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(id){mejs.YouTubeApi.flashReady(id)}window.mejs=mejs;window.MediaElement=mejs.MediaElement;(function(context,exports,undefined){"use strict";var i18n={locale:{language:exports.i18n&&exports.i18n.locale.language||"",strings:exports.i18n&&exports.i18n.locale.strings||{}},ietf_lang_regex:/^(x\-)?[a-z]{2,}(\-\w{2,})?(\-\w{2,})?$/,methods:{}};i18n.getLanguage=function(){var language=i18n.locale.language||window.navigator.userLanguage||window.navigator.language;return i18n.ietf_lang_regex.exec(language)?language:null};if(typeof mejsL10n!="undefined"){i18n.locale.language=mejsL10n.language}i18n.methods.checkPlain=function(str){var character,regex,replace={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};str=String(str);for(character in replace){if(replace.hasOwnProperty(character)){regex=new RegExp(character,"g");str=str.replace(regex,replace[character])}}return str};i18n.methods.t=function(str,options){if(i18n.locale.strings&&i18n.locale.strings[options.context]&&i18n.locale.strings[options.context][str]){str=i18n.locale.strings[options.context][str]}return i18n.methods.checkPlain(str)};i18n.t=function(str,options){if(typeof str==="string"&&str.length>0){var language=i18n.getLanguage();options=options||{context:language};return i18n.methods.t(str,options)}else{throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}}};exports.i18n=i18n})(document,mejs);(function(exports,undefined){"use strict";if(typeof mejsL10n!="undefined"){exports[mejsL10n.language]=mejsL10n.strings}})(mejs.i18n.locale.strings);