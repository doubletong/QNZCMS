$(function(){var n,t,i;$(".mainmenu li.active").closest("li.down-nav").addClass("nav-open");n=$(".mainmenu li.active").attr("data-parent");$(".mainmenu li[data-parent="+n+"]").fadeIn();$("#mainmenu .down-nav>a").click(function(n){n.preventDefault();var t=$(this);t.next(".submenu").slideToggle(function(){t.closest("li.down-nav").toggleClass("open")})});$("a.expand").click(function(n){$(this).closest(".card").addClass("card-fixed");n.preventDefault()});$("a.compress").click(function(n){$(this).closest(".card").removeClass("card-fixed");n.preventDefault()});$("#closemenu").on("click",function(n){$(this).toggleClass("openav");var r=$("#rightcol").css("margin-left");$(this).hasClass("openav")?t():i();n.preventDefault()});t=function(){var n=$(window).width();$("#rightcol").animate({marginLeft:"-170"},"fast");$("#rightcol").css({width:n+"px"});$("#wrapper").addClass("nonav")};i=function(){var n=$(window).width();$("#rightcol").animate({marginLeft:"0"},"fast");$("#rightcol").css({width:n-170+"px"});$("#wrapper").removeClass("nonav")}});var Common={ShowBox:function(n,t,i){switch(n){case 1:toastr.success(t,i);break;case 2:toastr.error(t,i);break;case 3:toastr.info(t,i);break;case 4:toastr.warning(t,i)}},ShowBoxWithFunc:function(n,t,i){switch(n.status){case 1:toastr.success(n.message,t);i();break;case 2:toastr.error(n.message,t);break;case 3:toastr.info(n.message,t);break;case 4:toastr.warning(n.message,t)}},ShowBoxWithFuncBack:function(n,t,i){switch(n.status){case 1:toastr.success(n.message,t);i(n.id,n.data);break;case 2:toastr.error(n.message,t);break;case 3:toastr.info(n.message,t);break;case 4:toastr.warning(n.message,t)}},SubmitBack:function(n,t,i){switch(n.status){case 1:toastr.success(n.message,t);i!==undefined&&i.html(n.Data);break;case 2:toastr.error(n.message,t);break;case 3:toastr.info(n.message,t);break;case 4:toastr.warning(n.message,t)}},PageSizeSet:function(n,t,i,r){$.post(n,{pageSize:i},function(n){switch(n.status){case 1:r();break;case 2:toastr.error(n.message,t);break;case 3:toastr.info(n.message,t);break;case 4:toastr.warning(n.message,t)}})},SingleActionWithFunc:function(n,t,i,r){$.post(n,$("#anti-form").serialize(),function(n){switch(n.status){case 1:toastr.success(n.message,t);r(i);break;case 2:toastr.error(n.message,t);break;case 3:toastr.info(n.message,t);break;case 4:toastr.warning(n.message,t)}})},SingleActionWithFuncBack:function(n,t,i,r){$.post(n,$("#anti-form").serialize(),function(n){switch(n.status){case 1:toastr.success(n.message,t);r(i,n.Data);break;case 2:toastr.error(n.message,t);break;case 3:toastr.info(n.message,t);break;case 4:toastr.warning(n.message,t)}})},SingleAction:function(n,t,i){$.post(n,$("#anti-form").serialize(),function(n){if(i)switch(n.status){case 1:toastr.success(n.message,t);setTimeout(function(){location.reload()},1e3);break;case 2:toastr.error(n.message,t);break;case 3:toastr.info(n.message,t);break;case 4:toastr.warning(n.message,t)}})},DeleteItem:function(n,t,i){$.post(n,$("#anti-form").serialize(),function(n){switch(n.status){case 1:toastr.success(n.message,t);i.closest(".item-container").remove();break;case 2:toastr.error(n.message,t);break;case 3:toastr.info(n.message,t);break;case 4:toastr.warning(n.message,t)}})}},singleEelFinder={percent:70,baseUrl:"/plugins/elFinder/elfinder-single.html",selectActionFunction:null,elFinderCallback:function(n){this.selectActionFunction(n)},open:function(){var n=1140,t=600,i,r;window.screen&&(n=window.screen.width*this.percent/100,t=window.screen.height*this.percent/100);i=screen.width/2-n/2;r=screen.height/2-t/2;window.open(this.baseUrl,"_blank","height="+t+",width="+n+",left="+i+",top="+r)}},QNZ={ImagesUploadHandler:function(n,t,i){var r,u,f;r=new XMLHttpRequest;r.withCredentials=!1;r.open("POST","/Admin/Files/ImageUpload");r.onload=function(){var n;if(r.status!=200){i("HTTP Error: "+r.status);return}if(n=JSON.parse(r.responseText),!n||typeof n.location!="string"){i("Invalid JSON: "+r.responseText);return}t(n.location)};f="";jQuery(tinymce.activeEditor.dom.getRoot()).find("img").not(".loaded-before").each(function(){f=$(this).attr("alt");$(this).addClass("loaded-before")});u=new FormData;u.append("file",n.blob(),n.filename());u.append("description",f);r.send(u)},percent:70,baseUrl:"/Admin/QNZFinder/SingleFinder",selectActionFunction:null,elFinderCallback:function(n){this.selectActionFunction(n)},open:function(){var n=1140,t=600,i,r;window.screen&&(n=window.screen.width*this.percent/100,t=window.screen.height*this.percent/100);i=screen.width/2-n/2;r=screen.height/2-t/2;window.open(this.baseUrl,"_blank","height="+t+",width="+n+",left="+i+",top="+r)},FilePickerCallback2:function(n){tinyMCE.activeEditor.windowManager.openUrl({url:"/Admin/QNZFinder/FinderForTinyMce",title:"QNZFinder 1.0 �ļ�����",width:1140,height:700});window.addEventListener("message",function(t){var i=t.data;n(i.content)})}};